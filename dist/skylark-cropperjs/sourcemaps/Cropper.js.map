{"version":3,"sources":["Cropper.js"],"names":["define","skylark","DEFAULTS","TEMPLATE","render","preview","events","handlers","change","methods","constants","utilities","AnotherCropper","WINDOW","Cropper","[object Object]","element","options","REGEXP_TAG_NAME","test","tagName","Error","this","assign","isPlainObject","cropped","disabled","pointers","ready","reloading","replaced","sized","sizing","init","toLowerCase","url","NAMESPACE","isImg","getAttribute","originalUrl","src","window","HTMLCanvasElement","toDataURL","load","imageData","rotatable","scalable","checkOrientation","ArrayBuffer","clone","REGEXP_DATA_URL","REGEXP_DATA_URL_JPEG","read","dataURLToArrayBuffer","xhr","XMLHttpRequest","bind","onabort","onerror","ontimeout","onprogress","getResponseHeader","MIME_TYPE_JPEG","abort","onload","response","onloadend","checkCrossOrigin","isCrossOriginURL","crossOrigin","addTimestamp","open","responseType","withCredentials","send","arrayBuffer","orientation","resetAndGetOrientation","rotate","scaleX","scaleY","arrayBufferToDataURL","parseOrientation","crossOriginUrl","image","document","createElement","alt","start","stop","addClass","CLASS_HIDE","parentNode","insertBefore","nextSibling","isIOSWebKit","navigator","userAgent","done","naturalWidth","naturalHeight","aspectRatio","build","sizingImage","body","documentElement","width","height","removeChild","style","cssText","appendChild","container","template","innerHTML","cropper","querySelector","canvas","dragBox","cropBox","face","viewBox","CLASS_HIDDEN","removeClass","initPreview","initialAspectRatio","Math","max","NaN","viewMode","min","round","guides","getElementsByClassName","center","background","highlight","CLASS_INVISIBLE","cropBoxMovable","CLASS_MOVE","setData","DATA_ACTION","ACTION_ALL","cropBoxResizable","setDragMode","dragMode","autoCrop","crop","undefined","data","isFunction","addListener","EVENT_READY","once","dispatchEvent","unbind","resetPreview","unbuild","prototype","attach"],"mappings":"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","file":"../Cropper.js","sourcesContent":["define([\n    'skylark-langx/skylark',\n    './defaults',\n    './template',\n    './render',\n    './preview',\n    './events',\n    './handlers',\n    './change',\n    './methods',\n    './constants',\n    './utilities'\n], function (skylark, DEFAULTS, TEMPLATE, render, preview, events, handlers, change, methods, constants, utilities) {\n    'use strict';\n    const AnotherCropper = constants.WINDOW.Cropper;\n    class Cropper {\n        constructor(element, options = {}) {\n            if (!element || !constants.REGEXP_TAG_NAME.test(element.tagName)) {\n                throw new Error('The first argument is required and must be an <img> or <canvas> element.');\n            }\n            this.element = element;\n            this.options = utilities.assign({}, DEFAULTS, utilities.isPlainObject(options) && options);\n            this.cropped = false;\n            this.disabled = false;\n            this.pointers = {};\n            this.ready = false;\n            this.reloading = false;\n            this.replaced = false;\n            this.sized = false;\n            this.sizing = false;\n            this.init();\n        }\n        init() {\n            const {element} = this;\n            const tagName = element.tagName.toLowerCase();\n            let url;\n            if (element[constants.NAMESPACE]) {\n                return;\n            }\n            element[constants.NAMESPACE] = this;\n            if (tagName === 'img') {\n                this.isImg = true;\n                url = element.getAttribute('src') || '';\n                this.originalUrl = url;\n                if (!url) {\n                    return;\n                }\n                url = element.src;\n            } else if (tagName === 'canvas' && window.HTMLCanvasElement) {\n                url = element.toDataURL();\n            }\n            this.load(url);\n        }\n        load(url) {\n            if (!url) {\n                return;\n            }\n            this.url = url;\n            this.imageData = {};\n            const {element, options} = this;\n            if (!options.rotatable && !options.scalable) {\n                options.checkOrientation = false;\n            }\n            if (!options.checkOrientation || !window.ArrayBuffer) {\n                this.clone();\n                return;\n            }\n            if (constants.REGEXP_DATA_URL.test(url)) {\n                if (constants.REGEXP_DATA_URL_JPEG.test(url)) {\n                    this.read(utilities.dataURLToArrayBuffer(url));\n                } else {\n                    this.clone();\n                }\n                return;\n            }\n            const xhr = new XMLHttpRequest();\n            const clone = this.clone.bind(this);\n            this.reloading = true;\n            this.xhr = xhr;\n            xhr.onabort = clone;\n            xhr.onerror = clone;\n            xhr.ontimeout = clone;\n            xhr.onprogress = () => {\n                if (xhr.getResponseHeader('content-type') !== constants.MIME_TYPE_JPEG) {\n                    xhr.abort();\n                }\n            };\n            xhr.onload = () => {\n                this.read(xhr.response);\n            };\n            xhr.onloadend = () => {\n                this.reloading = false;\n                this.xhr = null;\n            };\n            if (options.checkCrossOrigin && utilities.isCrossOriginURL(url) && element.crossOrigin) {\n                url = utilities.addTimestamp(url);\n            }\n            xhr.open('GET', url);\n            xhr.responseType = 'arraybuffer';\n            xhr.withCredentials = element.crossOrigin === 'use-credentials';\n            xhr.send();\n        }\n        read(arrayBuffer) {\n            const {options, imageData} = this;\n            const orientation = utilities.resetAndGetOrientation(arrayBuffer);\n            let rotate = 0;\n            let scaleX = 1;\n            let scaleY = 1;\n            if (orientation > 1) {\n                this.url = utilities.arrayBufferToDataURL(arrayBuffer, constants.MIME_TYPE_JPEG);\n                ({rotate, scaleX, scaleY} = utilities.parseOrientation(orientation));\n            }\n            if (options.rotatable) {\n                imageData.rotate = rotate;\n            }\n            if (options.scalable) {\n                imageData.scaleX = scaleX;\n                imageData.scaleY = scaleY;\n            }\n            this.clone();\n        }\n        clone() {\n            const {element, url} = this;\n            let {crossOrigin} = element;\n            let crossOriginUrl = url;\n            if (this.options.checkCrossOrigin && utilities.isCrossOriginURL(url)) {\n                if (!crossOrigin) {\n                    crossOrigin = 'anonymous';\n                }\n                crossOriginUrl = utilities.addTimestamp(url);\n            }\n            this.crossOrigin = crossOrigin;\n            this.crossOriginUrl = crossOriginUrl;\n            const image = document.createElement('img');\n            if (crossOrigin) {\n                image.crossOrigin = crossOrigin;\n            }\n            image.src = crossOriginUrl || url;\n            image.alt = element.alt || 'The image to crop';\n            this.image = image;\n            image.onload = this.start.bind(this);\n            image.onerror = this.stop.bind(this);\n            utilities.addClass(image, constants.CLASS_HIDE);\n            element.parentNode.insertBefore(image, element.nextSibling);\n        }\n        start() {\n            const {image} = this;\n            image.onload = null;\n            image.onerror = null;\n            this.sizing = true;\n            const isIOSWebKit = constants.WINDOW.navigator && /(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(constants.WINDOW.navigator.userAgent);\n            const done = (naturalWidth, naturalHeight) => {\n                utilities.assign(this.imageData, {\n                    naturalWidth,\n                    naturalHeight,\n                    aspectRatio: naturalWidth / naturalHeight\n                });\n                this.sizing = false;\n                this.sized = true;\n                this.build();\n            };\n            if (image.naturalWidth && !isIOSWebKit) {\n                done(image.naturalWidth, image.naturalHeight);\n                return;\n            }\n            const sizingImage = document.createElement('img');\n            const body = document.body || document.documentElement;\n            this.sizingImage = sizingImage;\n            sizingImage.onload = () => {\n                done(sizingImage.width, sizingImage.height);\n                if (!isIOSWebKit) {\n                    body.removeChild(sizingImage);\n                }\n            };\n            sizingImage.src = image.src;\n            if (!isIOSWebKit) {\n                sizingImage.style.cssText = 'left:0;' + 'max-height:none!important;' + 'max-width:none!important;' + 'min-height:0!important;' + 'min-width:0!important;' + 'opacity:0;' + 'position:absolute;' + 'top:0;' + 'z-index:-1;';\n                body.appendChild(sizingImage);\n            }\n        }\n        stop() {\n            const {image} = this;\n            image.onload = null;\n            image.onerror = null;\n            image.parentNode.removeChild(image);\n            this.image = null;\n        }\n        build() {\n            if (!this.sized || this.ready) {\n                return;\n            }\n            const {element, options, image} = this;\n            const container = element.parentNode;\n            const template = document.createElement('div');\n            template.innerHTML = TEMPLATE;\n            const cropper = template.querySelector(`.${ constants.NAMESPACE }-container`);\n            const canvas = cropper.querySelector(`.${ constants.NAMESPACE }-canvas`);\n            const dragBox = cropper.querySelector(`.${ constants.NAMESPACE }-drag-box`);\n            const cropBox = cropper.querySelector(`.${ constants.NAMESPACE }-crop-box`);\n            const face = cropBox.querySelector(`.${ constants.NAMESPACE }-face`);\n            this.container = container;\n            this.cropper = cropper;\n            this.canvas = canvas;\n            this.dragBox = dragBox;\n            this.cropBox = cropBox;\n            this.viewBox = cropper.querySelector(`.${ constants.NAMESPACE }-view-box`);\n            this.face = face;\n            canvas.appendChild(image);\n            utilities.addClass(element, constants.CLASS_HIDDEN);\n            container.insertBefore(cropper, element.nextSibling);\n            if (!this.isImg) {\n                utilities.removeClass(image, constants.CLASS_HIDE);\n            }\n            this.initPreview();\n            this.bind();\n            options.initialAspectRatio = Math.max(0, options.initialAspectRatio) || NaN;\n            options.aspectRatio = Math.max(0, options.aspectRatio) || NaN;\n            options.viewMode = Math.max(0, Math.min(3, Math.round(options.viewMode))) || 0;\n            utilities.addClass(cropBox, constants.CLASS_HIDDEN);\n            if (!options.guides) {\n                utilities.addClass(cropBox.getElementsByClassName(`${ constants.NAMESPACE }-dashed`), constants.CLASS_HIDDEN);\n            }\n            if (!options.center) {\n                utilities.addClass(cropBox.getElementsByClassName(`${ constants.NAMESPACE }-center`), constants.CLASS_HIDDEN);\n            }\n            if (options.background) {\n                utilities.addClass(cropper, `${ constants.NAMESPACE }-bg`);\n            }\n            if (!options.highlight) {\n                utilities.addClass(face, constants.CLASS_INVISIBLE);\n            }\n            if (options.cropBoxMovable) {\n                utilities.addClass(face, constants.CLASS_MOVE);\n                utilities.setData(face, constants.DATA_ACTION, constants.ACTION_ALL);\n            }\n            if (!options.cropBoxResizable) {\n                utilities.addClass(cropBox.getElementsByClassName(`${ constants.NAMESPACE }-line`), constants.CLASS_HIDDEN);\n                utilities.addClass(cropBox.getElementsByClassName(`${ constants.NAMESPACE }-point`), constants.CLASS_HIDDEN);\n            }\n            this.render();\n            this.ready = true;\n            this.setDragMode(options.dragMode);\n            if (options.autoCrop) {\n                this.crop();\n            }\n            this.undefined(options.data);\n            if (utilities.isFunction(options.ready)) {\n                utilities.addListener(element, constants.EVENT_READY, options.ready, { once: true });\n            }\n            utilities.dispatchEvent(element, constants.EVENT_READY);\n        }\n        unbuild() {\n            if (!this.ready) {\n                return;\n            }\n            this.ready = false;\n            this.unbind();\n            this.resetPreview();\n            this.cropper.parentNode.removeChild(this.cropper);\n            utilities.removeClass(this.element, constants.CLASS_HIDDEN);\n        }\n        uncreate() {\n            if (this.ready) {\n                this.unbuild();\n                this.ready = false;\n                this.cropped = false;\n            } else if (this.sizing) {\n                this.sizingImage.onload = null;\n                this.sizing = false;\n                this.sized = false;\n            } else if (this.reloading) {\n                this.xhr.onabort = null;\n                this.xhr.abort();\n            } else if (this.image) {\n                this.stop();\n            }\n        }\n        static noConflict() {\n            window.Cropper = AnotherCropper;\n            return Cropper;\n        }\n        static setDefaults(options) {\n            utilities.assign(DEFAULTS, utilities.isPlainObject(options) && options);\n        }\n    }\n    utilities.assign(Cropper.prototype, render, preview, events, handlers, change, methods);\n    return skylark.attach('intg.Cropper', Cropper);\n});"]}